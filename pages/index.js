import React from 'react';
import Head from 'next/head'
import Image from 'next/image'
import styles from '../styles/Home.module.css'
import QRCode from 'qrcode'

const  getSVG = (qr) => `<svg width="642" height="642" viewBox="0 0 642 642" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M76 129.317C76 116.572 79.0452 104.011 84.882 92.6808L110.856 42.2613C116 32.2754 126.292 26 137.525 26H228.078H546.31C557.356 26 566.31 34.9543 566.31 46V554.256C566.31 563.671 561.89 572.54 554.373 578.209L517.624 605.921C508.95 612.462 498.382 616 487.519 616H234.69H96C84.9543 616 76 607.046 76 596V129.317Z" fill="black"/>
<path d="M126 551.534V524.822H131.629V551.534H126Z" fill="white"/>
<path d="M135.593 551.534V533.652H141.223V551.534H135.593ZM138.427 531.187C137.544 531.187 136.808 530.893 136.219 530.304C135.655 529.691 135.373 528.955 135.373 528.096C135.373 527.213 135.655 526.478 136.219 525.889C136.808 525.3 137.544 525.006 138.427 525.006C139.31 525.006 140.033 525.3 140.597 525.889C141.161 526.478 141.444 527.213 141.444 528.096C141.444 528.955 141.161 529.691 140.597 530.304C140.033 530.893 139.31 531.187 138.427 531.187Z" fill="white"/>
<path d="M156.998 551.534V541.342C156.998 540.41 156.703 539.662 156.114 539.098C155.55 538.509 154.827 538.215 153.944 538.215C153.33 538.215 152.791 538.349 152.325 538.619C151.859 538.865 151.491 539.232 151.221 539.723C150.951 540.189 150.816 540.729 150.816 541.342L148.646 540.275C148.646 538.877 148.952 537.65 149.565 536.596C150.179 535.541 151.025 534.731 152.104 534.167C153.208 533.579 154.447 533.284 155.82 533.284C157.145 533.284 158.31 533.603 159.315 534.241C160.346 534.854 161.155 535.676 161.744 536.706C162.332 537.736 162.627 538.865 162.627 540.091V551.534H156.998ZM145.187 551.534V533.652H150.816V551.534H145.187Z" fill="white"/>
<path d="M177.685 551.534L171.43 542.262L177.648 533.652H183.94L176.434 543.329L176.618 541.011L184.308 551.534H177.685ZM166.242 551.534V524.822H171.872V551.534H166.242Z" fill="white"/>
<path d="M193.649 551.938C191.859 551.938 190.215 551.632 188.719 551.018C187.223 550.381 185.96 549.473 184.929 548.296L188.646 544.58C189.112 545.267 189.786 545.831 190.669 546.272C191.577 546.689 192.533 546.898 193.539 546.898C194.447 546.898 195.231 546.738 195.894 546.419C196.556 546.1 197.071 545.647 197.439 545.058C197.831 544.469 198.028 543.77 198.028 542.961C198.028 542.151 197.831 541.465 197.439 540.9C197.071 540.312 196.519 539.858 195.783 539.539C195.072 539.22 194.214 539.061 193.208 539.061C192.742 539.061 192.251 539.098 191.736 539.171C191.246 539.22 190.829 539.306 190.485 539.429L193.024 536.228C193.711 536.031 194.361 535.872 194.974 535.749C195.612 535.602 196.2 535.529 196.74 535.529C198.065 535.529 199.254 535.848 200.309 536.485C201.364 537.098 202.198 537.982 202.811 539.134C203.449 540.263 203.767 541.612 203.767 543.182C203.767 544.899 203.338 546.419 202.48 547.744C201.646 549.068 200.468 550.099 198.948 550.835C197.451 551.57 195.685 551.938 193.649 551.938ZM190.485 539.429V536.228L196.814 528.796L203.289 528.759L196.703 536.264L190.485 539.429ZM186.548 530.451V525.558H203.289V528.759L198.764 530.451H186.548Z" fill="white"/>
<path d="M209.586 551.938C208.629 551.938 207.832 551.607 207.194 550.945C206.556 550.283 206.237 549.485 206.237 548.553C206.237 547.572 206.556 546.763 207.194 546.125C207.832 545.463 208.629 545.132 209.586 545.132C210.567 545.132 211.364 545.463 211.977 546.125C212.615 546.763 212.934 547.572 212.934 548.553C212.934 549.485 212.615 550.283 211.977 550.945C211.364 551.607 210.567 551.938 209.586 551.938Z" fill="white"/>
<path d="M218.545 551.534V526.257H224.174V551.534H218.545ZM214.498 538.435V533.652H228.222V538.435H214.498Z" fill="white"/>
<path d="M238.952 551.938C237.112 551.938 235.445 551.534 233.948 550.724C232.477 549.89 231.311 548.762 230.453 547.339C229.594 545.917 229.165 544.322 229.165 542.556C229.165 540.79 229.594 539.208 230.453 537.81C231.311 536.412 232.477 535.308 233.948 534.498C235.42 533.664 237.088 533.247 238.952 533.247C240.816 533.247 242.484 533.652 243.956 534.462C245.428 535.271 246.593 536.387 247.451 537.81C248.31 539.208 248.739 540.79 248.739 542.556C248.739 544.322 248.31 545.917 247.451 547.339C246.593 548.762 245.428 549.89 243.956 550.724C242.484 551.534 240.816 551.938 238.952 551.938ZM238.952 546.824C239.762 546.824 240.473 546.652 241.086 546.309C241.699 545.941 242.165 545.438 242.484 544.8C242.828 544.138 242.999 543.39 242.999 542.556C242.999 541.722 242.828 540.999 242.484 540.385C242.141 539.748 241.663 539.257 241.049 538.914C240.461 538.546 239.762 538.362 238.952 538.362C238.167 538.362 237.468 538.546 236.855 538.914C236.242 539.257 235.763 539.748 235.42 540.385C235.077 541.023 234.905 541.759 234.905 542.593C234.905 543.402 235.077 544.138 235.42 544.8C235.763 545.438 236.242 545.941 236.855 546.309C237.468 546.652 238.167 546.824 238.952 546.824Z" fill="white"/>
<path d="M249.665 553.557L258.679 523.755H263.573L254.559 553.557H249.665Z" fill="white"/>
<path d="M428.818 514.741C434.357 514.741 438.293 520.133 436.605 525.409L426.485 560.158C425.402 563.544 422.254 565.842 418.698 565.842L276.431 565.842C270.892 565.842 266.956 560.45 268.644 555.174L278.764 520.425C279.847 517.039 282.995 514.741 286.551 514.741L428.818 514.741Z" fill="white"/>
<path d="M307.644 551.533V541.341C307.644 540.409 307.35 539.661 306.761 539.097C306.197 538.508 305.473 538.214 304.59 538.214C303.977 538.214 303.437 538.349 302.971 538.619C302.505 538.864 302.137 539.232 301.868 539.722C301.598 540.188 301.463 540.728 301.463 541.341L299.292 540.274C299.292 538.876 299.586 537.65 300.175 536.595C300.764 535.54 301.585 534.731 302.64 534.167C303.695 533.578 304.909 533.284 306.283 533.284C307.681 533.284 308.907 533.578 309.962 534.167C311.017 534.731 311.826 535.528 312.39 536.558C312.979 537.564 313.273 538.741 313.273 540.09V551.533H307.644ZM295.833 551.533V524.821H301.463V551.533H295.833Z" fill="black"/>
<path d="M324.358 551.901C322.714 551.901 321.243 551.496 319.943 550.687C318.667 549.877 317.649 548.774 316.889 547.375C316.153 545.977 315.785 544.383 315.785 542.592C315.785 540.802 316.153 539.207 316.889 537.809C317.649 536.411 318.667 535.307 319.943 534.498C321.243 533.688 322.714 533.284 324.358 533.284C325.56 533.284 326.639 533.517 327.596 533.983C328.577 534.449 329.374 535.099 329.987 535.933C330.6 536.742 330.944 537.674 331.017 538.729V546.456C330.944 547.51 330.6 548.455 329.987 549.289C329.398 550.098 328.614 550.736 327.632 551.202C326.651 551.668 325.56 551.901 324.358 551.901ZM325.498 546.823C326.7 546.823 327.669 546.431 328.405 545.646C329.141 544.837 329.509 543.819 329.509 542.592C329.509 541.758 329.337 541.022 328.994 540.385C328.675 539.747 328.209 539.256 327.596 538.913C327.007 538.545 326.32 538.361 325.535 538.361C324.75 538.361 324.051 538.545 323.438 538.913C322.849 539.256 322.371 539.747 322.003 540.385C321.66 541.022 321.488 541.758 321.488 542.592C321.488 543.402 321.66 544.125 322.003 544.763C322.346 545.401 322.825 545.904 323.438 546.272C324.051 546.64 324.738 546.823 325.498 546.823ZM329.288 551.533V546.713L330.134 542.372L329.288 538.03V533.652H334.807V551.533H329.288Z" fill="black"/>
<path d="M350.581 551.533V541.341C350.581 540.409 350.287 539.661 349.698 539.097C349.134 538.508 348.41 538.214 347.527 538.214C346.914 538.214 346.374 538.349 345.908 538.619C345.442 538.864 345.074 539.232 344.805 539.722C344.535 540.188 344.4 540.728 344.4 541.341L342.229 540.274C342.229 538.876 342.536 537.65 343.149 536.595C343.762 535.54 344.608 534.731 345.688 534.167C346.791 533.578 348.03 533.284 349.404 533.284C350.728 533.284 351.893 533.603 352.899 534.24C353.929 534.854 354.739 535.675 355.327 536.705C355.916 537.736 356.21 538.864 356.21 540.09V551.533H350.581ZM338.771 551.533V533.652H344.4V551.533H338.771Z" fill="black"/>
<path d="M367.442 551.901C365.75 551.901 364.241 551.496 362.917 550.687C361.617 549.877 360.586 548.774 359.826 547.375C359.09 545.977 358.722 544.383 358.722 542.592C358.722 540.802 359.09 539.207 359.826 537.809C360.586 536.411 361.617 535.307 362.917 534.498C364.241 533.688 365.75 533.284 367.442 533.284C368.669 533.284 369.772 533.517 370.753 533.983C371.759 534.449 372.581 535.099 373.219 535.933C373.881 536.742 374.249 537.674 374.322 538.729V546.272C374.249 547.326 373.893 548.283 373.255 549.141C372.618 549.975 371.796 550.65 370.79 551.165C369.785 551.656 368.669 551.901 367.442 551.901ZM368.436 546.823C369.245 546.823 369.944 546.652 370.533 546.308C371.121 545.94 371.587 545.438 371.931 544.8C372.274 544.162 372.446 543.426 372.446 542.592C372.446 541.758 372.274 541.035 371.931 540.422C371.612 539.784 371.146 539.281 370.533 538.913C369.944 538.545 369.257 538.361 368.472 538.361C367.687 538.361 366.988 538.545 366.375 538.913C365.786 539.281 365.308 539.784 364.94 540.422C364.597 541.059 364.425 541.783 364.425 542.592C364.425 543.402 364.597 544.125 364.94 544.763C365.284 545.401 365.762 545.904 366.375 546.272C366.988 546.64 367.675 546.823 368.436 546.823ZM377.744 551.533H372.225V546.713L373.071 542.372L372.115 538.03V524.821H377.744V551.533Z" fill="black"/>
<path d="M381.708 551.533V524.821H387.337V551.533H381.708Z" fill="black"/>
<path d="M400.132 551.938C398.194 551.938 396.464 551.545 394.944 550.76C393.447 549.951 392.27 548.835 391.412 547.412C390.553 545.99 390.124 544.383 390.124 542.592C390.124 540.802 390.541 539.207 391.375 537.809C392.233 536.387 393.386 535.27 394.833 534.461C396.281 533.652 397.912 533.247 399.727 533.247C401.493 533.247 403.05 533.627 404.4 534.387C405.749 535.148 406.803 536.203 407.564 537.552C408.349 538.901 408.741 540.446 408.741 542.188C408.741 542.506 408.717 542.85 408.668 543.218C408.643 543.561 408.582 543.966 408.484 544.432L393.067 544.469V540.605L406.092 540.569L403.664 542.188C403.639 541.157 403.48 540.311 403.185 539.649C402.891 538.962 402.449 538.447 401.861 538.104C401.297 537.736 400.598 537.552 399.764 537.552C398.881 537.552 398.108 537.76 397.446 538.177C396.808 538.57 396.305 539.134 395.937 539.87C395.594 540.605 395.422 541.501 395.422 542.556C395.422 543.61 395.606 544.518 395.974 545.278C396.366 546.014 396.906 546.59 397.593 547.007C398.304 547.4 399.138 547.596 400.095 547.596C400.978 547.596 401.775 547.449 402.486 547.155C403.198 546.836 403.823 546.37 404.363 545.756L407.453 548.847C406.57 549.877 405.503 550.65 404.252 551.165C403.001 551.68 401.628 551.938 400.132 551.938Z" fill="black"/>
<g transform="translate(130, 250)">
${qr}
</g>
<path d="M353.4 126V90.7002H361.25V126H353.4ZM375.25 126V90.7002H383.15V126H375.25ZM358.1 111.25V104.45H377.85V111.25H358.1Z" fill="white"/>
<path d="M399.373 126.5C397.14 126.5 395.14 125.95 393.373 124.85C391.64 123.75 390.257 122.25 389.223 120.35C388.223 118.45 387.723 116.284 387.723 113.85C387.723 111.417 388.223 109.25 389.223 107.35C390.257 105.45 391.64 103.95 393.373 102.85C395.14 101.75 397.14 101.2 399.373 101.2C401.007 101.2 402.473 101.517 403.773 102.15C405.107 102.784 406.19 103.667 407.023 104.8C407.857 105.9 408.323 107.167 408.423 108.6V119.1C408.323 120.534 407.857 121.817 407.023 122.95C406.223 124.05 405.157 124.917 403.823 125.55C402.49 126.184 401.007 126.5 399.373 126.5ZM400.923 119.6C402.557 119.6 403.873 119.067 404.873 118C405.873 116.9 406.373 115.517 406.373 113.85C406.373 112.717 406.14 111.717 405.673 110.85C405.24 109.984 404.607 109.317 403.773 108.85C402.973 108.35 402.04 108.1 400.973 108.1C399.907 108.1 398.957 108.35 398.123 108.85C397.323 109.317 396.673 109.984 396.173 110.85C395.707 111.717 395.473 112.717 395.473 113.85C395.473 114.95 395.707 115.934 396.173 116.8C396.64 117.667 397.29 118.35 398.123 118.85C398.957 119.35 399.89 119.6 400.923 119.6ZM406.073 126V119.45L407.223 113.55L406.073 107.65V101.7H413.573V126H406.073Z" fill="white"/>
<path d="M435.01 126V112.15C435.01 110.884 434.61 109.867 433.81 109.1C433.043 108.3 432.06 107.9 430.86 107.9C430.026 107.9 429.293 108.084 428.66 108.45C428.026 108.784 427.526 109.284 427.16 109.95C426.793 110.584 426.61 111.317 426.61 112.15L423.66 110.7C423.66 108.8 424.076 107.134 424.91 105.7C425.743 104.267 426.893 103.167 428.36 102.4C429.86 101.6 431.543 101.2 433.41 101.2C435.21 101.2 436.793 101.634 438.16 102.5C439.56 103.334 440.66 104.45 441.46 105.85C442.26 107.25 442.66 108.784 442.66 110.45V126H435.01ZM418.96 126V101.7H426.61V126H418.96Z" fill="white"/>
<path d="M457.923 126.5C455.623 126.5 453.573 125.95 451.773 124.85C450.006 123.75 448.606 122.25 447.573 120.35C446.573 118.45 446.073 116.284 446.073 113.85C446.073 111.417 446.573 109.25 447.573 107.35C448.606 105.45 450.006 103.95 451.773 102.85C453.573 101.75 455.623 101.2 457.923 101.2C459.59 101.2 461.09 101.517 462.423 102.15C463.79 102.784 464.906 103.667 465.773 104.8C466.673 105.9 467.173 107.167 467.273 108.6V118.85C467.173 120.284 466.69 121.584 465.823 122.75C464.956 123.884 463.84 124.8 462.473 125.5C461.106 126.167 459.59 126.5 457.923 126.5ZM459.273 119.6C460.373 119.6 461.323 119.367 462.123 118.9C462.923 118.4 463.556 117.717 464.023 116.85C464.49 115.984 464.723 114.984 464.723 113.85C464.723 112.717 464.49 111.734 464.023 110.9C463.59 110.034 462.956 109.35 462.123 108.85C461.323 108.35 460.39 108.1 459.323 108.1C458.256 108.1 457.306 108.35 456.473 108.85C455.673 109.35 455.023 110.034 454.523 110.9C454.056 111.767 453.823 112.75 453.823 113.85C453.823 114.95 454.056 115.934 454.523 116.8C454.99 117.667 455.64 118.35 456.473 118.85C457.306 119.35 458.24 119.6 459.273 119.6ZM471.923 126H464.423V119.45L465.573 113.55L464.273 107.65V89.7002H471.923V126Z" fill="white"/>
<path d="M477.309 126V89.7002H484.959V126H477.309Z" fill="white"/>
<path d="M502.346 126.55C499.713 126.55 497.363 126.017 495.296 124.95C493.263 123.85 491.663 122.334 490.496 120.4C489.33 118.467 488.746 116.284 488.746 113.85C488.746 111.417 489.313 109.25 490.446 107.35C491.613 105.417 493.18 103.9 495.146 102.8C497.113 101.7 499.33 101.15 501.796 101.15C504.196 101.15 506.313 101.667 508.146 102.7C509.98 103.734 511.413 105.167 512.446 107C513.513 108.834 514.046 110.934 514.046 113.3C514.046 113.734 514.013 114.2 513.946 114.7C513.913 115.167 513.83 115.717 513.696 116.35L492.746 116.4V111.15L510.446 111.1L507.146 113.3C507.113 111.9 506.896 110.75 506.496 109.85C506.096 108.917 505.496 108.217 504.696 107.75C503.93 107.25 502.98 107 501.846 107C500.646 107 499.596 107.284 498.696 107.85C497.83 108.384 497.146 109.15 496.646 110.15C496.18 111.15 495.946 112.367 495.946 113.8C495.946 115.234 496.196 116.467 496.696 117.5C497.23 118.5 497.963 119.284 498.896 119.85C499.863 120.384 500.996 120.65 502.296 120.65C503.496 120.65 504.58 120.45 505.546 120.05C506.513 119.617 507.363 118.984 508.096 118.15L512.296 122.35C511.096 123.75 509.646 124.8 507.946 125.5C506.246 126.2 504.38 126.55 502.346 126.55Z" fill="white"/>
</svg>
`

const headString = 'data:image/svg+xml;base64,'

export default function Home() {
	const [value, setValue] = React.useState('');
	const [url, setURL] = React.useState();

	const handleGenerate = () => {
		QRCode.toString('https://link3.to/' + value,{type:'svg', width: 200, margin: 1}).then((url) => {
		const base64 = headString + btoa(getSVG(url)) 

		console.log(base64)
		setURL(base64)
})

	}
  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <h1 className={styles.title}>
	  Embed QR Code For Link3 Profile
        </h1>
	<p>Put a validate link3 handle</p>
	<input type="text" id="qr-code-input" placeholder="Link3 Handle"  className={styles.handleInput}
	  onChange={(e) => setValue(e.target.value)}
	  />
	<button className={styles.btn} onClick={handleGenerate}>Generate QR Code</button>
	  {url && <img src={url} className={styles.qrCode} alt="qr-code" />}
      </main>

      <footer className={styles.footer}>
        <a
          href="https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app"
          target="_blank"
          rel="noopener noreferrer"
        >
          Powered by{' '}
          <span className={styles.logo}>
            <Image src="/vercel.svg" alt="Vercel Logo" width={72} height={16} />
          </span>
        </a>
      </footer>
    </div>
  )
}
